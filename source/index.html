<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>m4b editor</title>
		<meta
			name="description"
			content="Combine audio files into iTunes style m4b audiobooks"
		/>
		<meta property="og:url" content="https://m4b.r0b.io" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="m4b editor" />
		<meta name="theme-color" content="#ec8e0a" />
		<link rel="stylesheet" href="https://fonts.openlab.dev/rubik/rubik.css" />
		<link rel="stylesheet" href="https://alembic.openlab.dev/labcoat.css" />
		<link rel="stylesheet" href="style.css" />
		<link rel="manifest" href="app.webmanifest" />
		<link rel="icon" href="icon.png" />
	</head>
	<body>
		<cover-layout centered="main" space="s0" nopad>
			<header>m4b editor</header>

			<main>
				<center-layout max="1200px">
					<div class="flow">
						<sidebar-layout side="right" sideWidth="100px">
							<div class="flow">
								<label class="field" for="files">
									<span class="field-label">Files</span>
									<input
										type="file"
										name="files"
										id="files"
										multiple
										accept=".mp3,.m4a"
									/>
								</label>

								<details id="advanced">
									<summary>Advanced options</summary>
									<cluster-layout align="flex-end">
										<!-- https://ffmpeg.org/ffmpeg-codecs.html#Audio-Encoders -->
										<label for="codec" class="label">
											<span class="field-label">Audio codec</span>
											<select name="codec" id="codec">
												<option value="">passthrough</option>
												<option value="aac" selected>AAC</option>
												<option value="alac">ALAC</option>
											</select>
										</label>

										<!-- https://github.com/audiojs/sample-rate#readme -->
										<label for="sampleRate" class="label">
											<span class="field-label">Sample rate</span>
											<select name="sampleRate" id="sampleRate">
												<option value="" selected>passthrough</option>
												<option value="8000">8,000 Hz</option>
												<option value="11025">11,025 Hz</option>
												<option value="16000">16,000 Hz</option>
												<option value="22050">22,050 Hz</option>
												<option value="44100">44,100 Hz</option>
												<option value="48200">48,000 Hz</option>
												<option value="88200">88,200 Hz</option>
												<option value="96000">96,000 Hz</option>
											</select>
										</label>

										<label for="bitRate" class="label">
											<span class="field-label">Bit rate</span>
											<select name="bitRate" id="bitRate">
												<option value="" selected>passthrough</option>
												<option value="16">16 kbps</option>
												<option value="32">32 kbps</option>
												<option value="64">64 kbps</option>
												<option value="128">128 kbps</option>
												<option value="192">192 kbps</option>
												<option value="256">256 kbps</option>
											</select>
										</label>

										<label for="bitDepth" class="label">
											<span class="field-label">Bit depth</span>
											<select name="bitDepth" id="bitDepth">
												<option value="" selected>passthrough</option>
												<option value="16">16</option>
												<option value="24">24</option>
												<option value="32">32</option>
											</select>
										</label>

										<label for="legacyDevice" class="checkbox">
											<input
												type="checkbox"
												id="legacyDevice"
												name="legacyDevice"
											/>
											<span> for iPod </span>
										</label>
									</cluster-layout>
								</details>

								<!-- <label class="field" for="artwork">
									<span class="field-label">Artwork</span>
									<input
										type="file"
										name="artwork"
										id="artwork"
										accept=".jpg,.png,.webp,.jpeg"
									/>
								</label> -->

								<cluster-layout space="s-1" align="center">
									<button id="run" disabled>Run</button>
									<a href="#" disabled id="download" class="button">Download</a>
									<progress id="progress" value="0" disabled></progress>
								</cluster-layout>
							</div>
							<img id="cover" width="200" height="200" />
						</sidebar-layout>

						<!-- Output -->
						<div>
							<span class="field-label">Output</span>
							<pre id="output"></pre>
						</div>

						<!-- Debug -->
						<details>
							<summary>Debug</summary>
							<pre id="debug"></pre>
						</details>
					</div>
				</center-layout>
			</main>

			<footer>
				<a href="https://github.com/robb-j/m4b-editor">View source</a>
				/
				<a href="https://www.ffmpeg.org/">FFmpeg</a>
				/ Made by
				<a href="https://www.r0b.io">Rob</a>
			</footer>
		</cover-layout>
		<script
			type="module"
			src="https://alembic.openlab.dev/everything.js"
		></script>
		<script type="module" src="app.js"></script>
	</body>
</html>
